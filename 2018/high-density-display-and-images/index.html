<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/component---src-templates-post-jsx.018409ee918aeb08a724.css">code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.ArticleCard-module--articleCard--11z6V{display:flex;flex-wrap:nowrap;flex-direction:column;justify-content:space-between;padding:1rem;text-decoration:none;border-bottom:1px solid #e4e6eb}.ArticleCard-module--articleCard--11z6V:last-child{border-bottom:none}.ArticleCard-module--articleCard--11z6V .ArticleCard-module--date--276QY{margin:0}.ArticleCard-module--articleCard--11z6V .ArticleCard-module--title--1qLBI{font-size:1.75rem;word-break:keep-all;margin:.5rem 0;line-height:1.2;color:#4d5256}.ArticleCard-module--articleCard--11z6V .ArticleCard-module--timeToRead--30lQv{text-align:right;line-height:1.2;margin:0}.ArticleCard-module--articleCard--11z6V .ArticleCard-module--timeToRead--30lQv i{font-size:1rem;margin-right:.25rem;vertical-align:top}.Footer-module--footer--VUGIP{border-top:1px solid #e4e6eb;color:#a5a5a5}.Footer-module--footer--VUGIP .Footer-module--content--3u_Ao{max-width:800px;margin:0 auto;padding:1rem}.NavBar-module--navBar--34wO1{height:56px;background:#fff;width:100%;box-shadow:0 1px 3px rgba(0,0,0,.07)}.NavBar-module--navBar--34wO1 .NavBar-module--content--1z5Z5{display:flex;width:100%;height:100%;max-width:800px;padding:1rem;margin:0 auto;align-items:center;justify-content:space-between}.NavBar-module--navBar--34wO1 .NavBar-module--homeLink--2g7Yn{color:#4d5256;font-size:1.5rem;font-weight:700;text-decoration:none}.NavBar-module--navBar--34wO1 .NavBar-module--links--lZl1w a{padding:0 .5rem;color:#a5a5a5;text-decoration:none}.Page-module--page--2nMky{display:flex;flex-direction:column;width:100%;height:100%}.Page-module--page--2nMky .Page-module--content--pXhYh{flex:1 1;flex-wrap:nowrap;width:100%;max-width:800px;padding:1rem;margin:0 auto}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}dl,ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-spacing:0}*,:after,:before{box-sizing:border-box}code,pre{font-family:Menlo,Courier New,Monaco,Spoqa Han Sans,monospace}code.language-text{padding:.25em .5em!important;font-size:85%!important;color:#364fc7!important;background-color:#f1f3f5!important;border-radius:3px!important;text-shadow:none!important}html{font-size:18px}body{font-family:Spoqa Han Sans,Source Sans Pro,Apple SD Gothic Neo,Nanum Barun Gothic,Nanum Gothic,Verdana,Arial,Dotum,sans-serif;color:#4d5256;line-height:1.6}body,html{font-family:sans-serif}body,body>div,body>div>div,html,html>div,html>div>div{width:100%;height:100%;padding:0;margin:0}h1,h2,h3,h4,h5,h6{line-height:1.7;margin:1em 0 15px;padding:0}@media screen and (max-width:640px){h1,h2,h3,h4,h5,h6{line-height:1.4}}h1,h2,h3,h5{font-weight:700}h1{font-size:30px}h1 a{color:inherit}h2{font-size:24px}h3,h4{font-size:20px}h4,h6{color:#868e96}p{color:#343a40;margin:15px 0}a{text-decoration:none;cursor:pointer}a,a:active,a:hover{color:#1b6ec2}em,i{font-style:italic}b,strong{font-weight:700}sub{vertical-align:sub}sub,sup{font-size:smaller}sup{vertical-align:super}hr{border:0;border-top:1px solid #f1f3f5;margin:1.5em auto}ol>li:before,ul>li:before{position:absolute;width:1.4em;margin-left:-1.4em;display:inline-block;box-sizing:border-box;text-align:right}ul>li:before{content:"\2022";padding-right:.3em;font-family:inherit;font-size:1.4em;line-height:1.2}ol{counter-reset:section}ol>li:before{counter-increment:section;content:counter(section) ".";padding-right:.3em;font-family:inherit;font-size:1em;line-height:inherit}ol>li,ul>li{margin:0 auto .4em 1.4em;line-height:1.55}ol>li>ol,ol>li>ul,ul>li>ol,ul>li>ul{margin-top:.4em}li>ol>li,li>ul>li{font-size:.95em;margin:0 auto .38em 1.33em}dt{float:left;width:180px;overflow:auto;clear:left;text-align:right;white-space:nowrap;font-weight:700;margin-bottom:.4em}@media screen and (max-width:640px){dt{width:120px}}dd{margin-left:200px;margin-bottom:.4em}@media screen and (max-width:640px){dd{margin-left:140px}}table{margin-bottom:1rem;width:100%;border:1px solid #e9ecef;border-collapse:collapse}td,th{padding:.25rem .5rem;border:1px solid #e9ecef}tbody tr:nth-child(odd) td,tbody tr:nth-child(odd) th{background-color:#f1f3f5}blockquote{font-weight:300;padding:0 0 0 1.4rem;margin:0 2rem 1rem 0;border-left:.2em solid #dee2e6}blockquote p{color:#868e96}blockquote p:last-child{margin-bottom:0}.post-module--title--hTIc5{font-size:1.75rem}</style><meta name="generator" content="Gatsby 2.0.78"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-05633a064d5f2e933205.js"/><link as="script" rel="preload" href="/app-6f8fe7d4739b6c28c3fe.js"/><link as="script" rel="preload" href="/0-2cce526182ff9e47ba62.js"/><link as="script" rel="preload" href="/component---src-templates-post-jsx-a3d348e2948c4a173ea8.js"/><link as="fetch" rel="preload" href="/static/d/177/path---2018-high-density-display-and-images-d-4-e-577-1ZgCaTbdUx31QmoFtKpYmgJgc.json" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="Page-module--page--2nMky"><nav class="NavBar-module--navBar--34wO1"><div class="NavBar-module--content--1z5Z5"><a class="NavBar-module--homeLink--2g7Yn" href="/">HAN LEE</a><section class="NavBar-module--links--lZl1w"><a href="https://hanlee.io" target="_blink">About</a><a href="https://github.com/hahnlee" target="_blink">GitHub</a><a href="/resume.pdf" target="_blink">Resume</a></section></div></nav><main class="Page-module--content--pXhYh"><h1 class="post-module--title--hTIc5">고밀도 디스플레이를 위한 이미지 다루기</h1><p>2018-01-21</p><div><h1>들어가며</h1>
<p>레티나 디스플레이를 시작으로 다양한 고밀도 디스플레이 기기가 늘어났습니다.
이에 따라 웹에서도 고 해상도 이미지의 수요가 생겼습니다.
고 해상도 이미지를 제공하는 방법을 알아봅니다.</p>
<h1>Media Queries: resolution feature</h1>
<p><code class="language-text">resolution</code>은 고밀도 디스플레이를 위해 고안된 css문법으로,
IE9를 포함한 <a href="https://caniuse.com/#feat=css-media-resolution">브라우저 대부분</a>이 지원합니다.
문법은 <code class="language-text">(min/max)-resolution: 값</code>으로 사용되며, 기본 단위는 dppx입니다.</p>
<p>이 미디어쿼리를 사용하면 고밀도 디스플레이와 저밀도 디스플레이에 서로 다른 이미지를 보여줄 수 있습니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>some_img.ext<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img-normal<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>normal image<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>some_img@2x.ext<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img-retina<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>retina image<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">></span></span></code></pre></div>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">.img-retina</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@media</span> only screen and <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 2<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.img-retina</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.img-normal</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><code class="language-text">background-image</code>를 사용할 것이면 다음과 같이 쓸 수 있습니다.</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">.img-retina</span> <span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url(...)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@media</span> only screen and <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 2<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.img-retina</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url(...)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>하지만 아쉽게도 safari는 <code class="language-text">min/max-device-pixel-ratio</code> 문법만을 지원하고 있어 다음을 사용해야 합니다.</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> only screen and <span class="token punctuation">(</span><span class="token property">-webkit-min-device-pixel-ratio</span><span class="token punctuation">:</span> 2<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/**/</span>
<span class="token punctuation">}</span></code></pre></div>
<p>또한 오페라미니와 IE는 dppx를 지원하지 않기 때문에 적당한 dpi를 사용해야 합니다.</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> only screen and <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 192dpi<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/**/</span>
<span class="token punctuation">}</span></code></pre></div>
<p>결과적으로 IE9을 포함한 대부분 브라우저를 지원하려면 다음 문법을 사용하면 됩니다.</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">.img-retina</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@media</span> only screen and <span class="token punctuation">(</span><span class="token property">-webkit-min-device-pixel-ratio</span><span class="token punctuation">:</span> 2<span class="token punctuation">)</span>, only screen and <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 192dpi<span class="token punctuation">)</span>, only screen and <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 2dppx<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.img-retina</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.img-normal</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>덤으로 만약 파이어 폭스와 오페라 이전 버전을 지원하고 싶다면 다음과 같은 미디어 쿼리를 추가하면 됩니다.</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> only screen and <span class="token punctuation">(</span><span class="token property">min--moz-device-pixel-ratio</span><span class="token punctuation">:</span> 2<span class="token punctuation">)</span>, only screen and <span class="token punctuation">(</span><span class="token property">-o-min-device-pixel-ratio</span><span class="token punctuation">:</span> 2/1<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/**/</span>
<span class="token punctuation">}</span></code></pre></div>
<p><code class="language-text">resolution</code> 미디어 쿼리를 사용하면, 브라우저 대부분을 지원하자만, 그러기 위해서는 미디어 쿼리가 복잡해지는 문제가 있습니다.
게다가 한가지 문제가 더 생기는데 브라우저의 <strong>동시 연결 제한</strong> 문제입니다.</p>
<h1>동시 연결 제한</h1>
<p>HTTP 1.1의 표준인 <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec8.html#sec8.1.4">RFC 2616</a>의 8.1.4절을 살펴보면 다음과 같은 내용이 있습니다.</p>
<blockquote>
<p>Clients that use persistent connections SHOULD limit the number of simultaneous connections that they maintain to a given server.</p>
</blockquote>
<p>한국전자통신연구소의 번역본은 다음과 같습니다.</p>
<blockquote>
<p>지속적인 접속을 사용하는 클라이언트는 특정 서버로의 동시 접속 숫자에 제한을 두어야 한다.</p>
</blockquote>
<p>실제로 브라우저들은 <em>도메인당 최대 연결수를 제한하고 있습니다</em>. 그 수는 브라우저 마다 다릅니다.</p>
<table>
<thead>
<tr>
<th>브라우저</th>
<th>도메인당 최대 연결 수</th>
</tr>
</thead>
<tbody>
<tr>
<td>Internet Explorer® 7.0</td>
<td>2</td>
</tr>
<tr>
<td>Internet Explorer 8.0 &#x26; 9.0</td>
<td>6</td>
</tr>
<tr>
<td>Internet Explorer 10.0</td>
<td>8</td>
</tr>
<tr>
<td>Internet Explorer 11.0</td>
<td>13</td>
</tr>
<tr>
<td>Firefox®</td>
<td>6</td>
</tr>
<tr>
<td>Chrome™</td>
<td>6</td>
</tr>
<tr>
<td>Safari®</td>
<td>6</td>
</tr>
<tr>
<td>Opera®</td>
<td>6</td>
</tr>
</tbody>
</table>
<p>사파리를 예로 들면, 한 웹페이지의 같은 도메인 한번에 받아 올 수 있는 이미지는 최대 6개 입니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-1.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-2.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-3.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-4.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-5.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-6.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-7.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-8.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-9.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-10.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-11.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-12.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre></div>
<p><a
    class="gatsby-resp-image-link"
    href="/static/5a5d86c31a5bc9584d7b4ac57bbe99f3/39b9b/img-load.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 61.55405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACc0lEQVQoz61S204TURQ9iZGLL2B8MjExfgnik0QfmJDwDZL4H8ZE/gGe5dYChihQEB40pLShIVBaep3OfabTmelMO+2c5Z4Z/ALdycraZ19WzjozbHnzcvn5GTBzDMwepzyTA57m0vzFT+DV+UM/l/ZizD7gGaE8RhKXpetl9n6jsDiRscG27eF01g6f7NphzI927JBtd5N8Zo/yrTT/i6ls2mc73fCiOx7GgsXrm0X29mtRYFkPbKvHJ3cdPr3nYGLXAcv0wDZ7CU/GZ8onsmnvMfEUzdFOsndhcx4LXt2UBfYx80tYODUw90Plc4cJ8Jrw5kjD/LGOhZyGd7m0Nn+kE2uYi/Fdph0F87RT1FyO0RC/85cCO8x8E0q3LbSbDd6q3fO78h3q1SpqlTu0G3Wosgy5I0KRJCjEKkGTOpBaTcjtFhSxzTuiyMVOBwcHBwLb2t8Trm4rqNcb3DAt7gUhnH4AfzBA3w9QUV2UFRe3soP+IEQ4HGIwCBCOQoxGY8KIR1HEKVAqlQS2kdkXarUaJEnijm3z4XCAIAgS+L4Pt9+H1/dJ3Ifn+jA0k2o2XK+XzLiey13Po70hikX6Hicn54KqatA0NTJNkxuGwU3L4rquc1VVueu63O52uW13k3Oz2eKW1eWapiUzsqJyPwiiWDyfz5PgaU6oVCqoVu/HNESiRiwcKYoSiaIYeZ4XpXUz0nUjajYbxHrUbrciWZKiRluMHY/Jemo5d3a2pGoaSAC9Xi+xSSKwbRuWZdF7DZI63RSO45ATLWFyAro5dMMEKdJPw1EoFJbYp89fXq6tra0QPvwL1tfXV1ZXV1+y/x1/AEXBxYYiAttCAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="사파리 이미지 로딩"
        title=""
        src="/static/5a5d86c31a5bc9584d7b4ac57bbe99f3/10273/img-load.png"
        srcset="/static/5a5d86c31a5bc9584d7b4ac57bbe99f3/9b14a/img-load.png 163w,
/static/5a5d86c31a5bc9584d7b4ac57bbe99f3/94962/img-load.png 325w,
/static/5a5d86c31a5bc9584d7b4ac57bbe99f3/10273/img-load.png 650w,
/static/5a5d86c31a5bc9584d7b4ac57bbe99f3/2fc6f/img-load.png 975w,
/static/5a5d86c31a5bc9584d7b4ac57bbe99f3/a8a2c/img-load.png 1300w,
/static/5a5d86c31a5bc9584d7b4ac57bbe99f3/173d2/img-load.png 1950w,
/static/5a5d86c31a5bc9584d7b4ac57bbe99f3/39b9b/img-load.png 2960w"
        sizes="(max-width: 650px) 100vw, 650px"
      />
  </span>
  </a></p>
<p>위 이미지를 보시면 최대 6개의 네트워크 연결을 확인할 수 있습니다.</p>
<p><a href="./same-domain-multiple-images.html">여기에서</a> 직접 확인해 보실 수 있습니다.</p>
<blockquote>
<p>동일 도메인 연결 제한을 피하고 성능향상을 위해 CDN 서비스를 사용하기도 합니다.</p>
</blockquote>
<p>중요한 점은 브라우저는 보여지지 않는 파일도 가져옵니다. 즉, <code class="language-text">display: none</code> 혹은
무시된 <code class="language-text">background-image</code>도 가져옵니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-1.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-2.png<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span> none</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-3.png<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span> none</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-4.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-5.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-6.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-7.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-8.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-9.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-10.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-11.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/normal-img-12.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre></div>
<p><a
    class="gatsby-resp-image-link"
    href="/static/8e9b62e0e1aecf29c8245968544dcd02/39b9b/img-load-with-none.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 61.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACdUlEQVQoz62Q205TQRSGJxExGBM0Xplw48OIYLxgS8Itr+AbkGh8AW6Ad+DUlkSMlHJKNKFQtDRACrSlu/u8u4897XbP75pdYzDx0km+/GutWfPPmmFza6dzLw6B8d2/eZYb6sQB8PJoGD/9XRvPDWPBc+JqgGSdFktz7O1qYWY05YBtuL3HGTd6QggdSbkR23CisbQbjW9RvO4k9fuIfbbpRMfOoCcMz0oXM2xq9Uxi6RBs3ecP0z5/lPExkvbBNok1DyzlYzQzjEVd8IAY2wrojCfgxy7nwvDnxZXE3qe+SdKhiddZjQsmdzRMZjVM7+p4kzMg7el4l1MxJWqUC6gPr74qmNxRMZ1V+Q/d5zzq4nv+RGLZ9GepdHkHpVblcuWGV67LIEX9hrR6C1NTYSgKLE2D3pCh1u9gqwoMuQ6TclORudKQeaPRwJftbYmtbmWkQukSN7cVbtlN3un20e1FiHo9qE6ICy3AJVExfaheBzWrjaAVUk8LPZqqP4h5HMfJk8/PzyW2ThPWajVomsZ9z+dNOtxqtdFut0lbCBPIJPTQagfw7BBNR4fjK/ACC+JMEAS82+2iUChIbH//SDIME6ZpxM1mk9u2zYWapsl1XU+aXdchvCSny7njuNw0LG5ZNlc1nXc6nZjAycmpxPb2clK5XEb5+jo2DCO2bSsxFRM3ZJmHYcipntTEJdVqNcmFsaaqvFaXxYvjwWCAYrEosd2Dg1lVVdGgj3ecJmgi+L4PMqCpzeTZNDFc100gk0TJlHosaLqBfr+PHv15Pp+fZR8+fppYWVmZX15eTlhaWvoT/4v7vfdZXFycX1hYmGD/e/0CetDCelu3ysIAAAAASUVORK5CYII='); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="img load with none"
        title=""
        src="/static/8e9b62e0e1aecf29c8245968544dcd02/10273/img-load-with-none.png"
        srcset="/static/8e9b62e0e1aecf29c8245968544dcd02/9b14a/img-load-with-none.png 163w,
/static/8e9b62e0e1aecf29c8245968544dcd02/94962/img-load-with-none.png 325w,
/static/8e9b62e0e1aecf29c8245968544dcd02/10273/img-load-with-none.png 650w,
/static/8e9b62e0e1aecf29c8245968544dcd02/2fc6f/img-load-with-none.png 975w,
/static/8e9b62e0e1aecf29c8245968544dcd02/a8a2c/img-load-with-none.png 1300w,
/static/8e9b62e0e1aecf29c8245968544dcd02/173d2/img-load-with-none.png 1950w,
/static/8e9b62e0e1aecf29c8245968544dcd02/39b9b/img-load-with-none.png 2960w"
        sizes="(max-width: 650px) 100vw, 650px"
      />
  </span>
  </a></p>
<p>위 이미지를 확인해 보시면 사용하지 않는 <code class="language-text">normal-img-2.png</code>와 <code class="language-text">normal-img-3.png</code>도 받아오는걸 확인 할 수 있습니다.</p>
<p>마찬가지로 <a href="./same-domain-multiple-images-with-none.html">여기에서</a> 확인할 수 있습니다.</p>
<p>결국 resolution 미디어 쿼리를 이용해 이미지를 다룰경우, 불필요한 이미지도 모두 받아오게 됩니다.
따라서 고밀도 유저나 일반 유저나 모두 약 2배 가까운 이미지를 받게됩니다. 여러 이미지를 사용하는 페이지라면,
보이지 않는 이미지를 받는 도중 도메인 연결 제한에 걸려 보여줘야할 이미지를 받는데 더 시간이 걸릴 수도 있습니다.</p>
<blockquote>
<p>단, background-image를 이용할 경우에는 필요한 이미지만 받아옵니다.
따라서 가능하다면 <strong>보여줘야할 이미지만 선택해서 받아오게 해야합니다</strong>. 그럼 다른 방법은 없을 까요?</p>
</blockquote>
<h1>JS를 이용해 동적으로 가져오기</h1>
<p><code class="language-text">window.devicePixelRatio</code> (<a href="https://caniuse.com/#feat=devicepixelratio">IE 11</a>부터 지원)을 사용하거나,
위에 있는 미디어 쿼리를 적용한 element 상태를 보고 적합한 이미지를 가져오는 방법도 있습니다.</p>
<p>이 방식을 사용하실 거면, <a href="https://github.com/strues/retinajs">retinajs</a>를 추천합니다.
retinajs는 css js를 모두 지원하고 특히 다음과 같은 문법을 지원하는데요,</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/images/my_image.png<span class="token punctuation">"</span></span>
  <span class="token attr-name">data-rjs</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/images/my-image@2x.png<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

<span class="token comment">&lt;!-- or --></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name">
  <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token url">url(/images/my_image.png)</span></span><span class="token punctuation">"</span></span>
  <span class="token attr-name">data-rjs</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/images/my-image@2x.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div>
<p>이렇게 사용하면, 일반 디스플레이 이용자들은 <code class="language-text">/images/my_image.png</code>만을 받아 올 수 있습니다.</p>
<p>하지만 여전히 고밀도 이용자들은 여러 이미지를 받거나, 깜박임을 겪는 문제를 겪습니다.</p>
<h1>srcset</h1>
<p>HTML 5.1 부터 img element에 <a href="https://www.w3.org/TR/html51/semantics-embedded-content.html#element-attrdef-img-srcset">srcset</a> 속성이 추가 되었습니다.
현재 IE와 오페라미니를 제외한 모든 브라우저 에서 <a href="https://caniuse.com/#feat=srcset">지원하고 있습니다</a>.</p>
<p><code class="language-text">srcset</code>은 조건에 따라 다른 이미지를 가져오게 할 수 있는데요 다음과 같은 문법으로 사용합니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[이미지위치] [조건], ...<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span></code></pre></div>
<p>쉼표로 구분하며, 앞에 조건과 사용할 이미지를 적으면 됩니다.
<code class="language-text">resolution</code>이 2이상인 디스플레이와 일반디스플레이를 구분해 이미지를 보여주려면 다음과 같이 사용합니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>image-src.png<span class="token punctuation">"</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>image-1x.png 1x, image-2x.png 2x<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre></div>
<p>srcset을 사용하면 브라우저는 적합한 이미지만을 선택해 가져옵니다.
<span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 61.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACFklEQVQoz62Pz47SUBjF+yDzUNNMMlvewI26kJUbNiTARjOsDDpG48JkojHOjPJHGqe4UAYw4mQitL2XMkNbChZa2sI93lvE4MZkEpv8cs537u3pV+lMae6/pi4KX3t40DXw8HKI/HeCN2QCPwA8H/g5XyP8Zp7OfuOtdb4Aqh8+70sflfPdUkfDvZN6mH5+FN1/fxaly2p02OlHA3MeGYNZZHAlG5+wnrcIeY5avbkrqUpLLnUpbr8qs7vPjtid0gvcevoST7oDmKYPwqHDAGS49uSvLBCecc/M6xA15VyWahVVPr3QUKrW2eOywg6VT3jEOf7WA6VjaIaFH/1r9HULOnFAeKYTGz1NZCNo+ogR6jDzaopKVZWlyrtj+eKyj0bHYJQQRimFNRrBpASEGBwCXdcwGNCEfr+XzALD0KEbBtMMwnSD4O3JqSxVq1WZmlcwRy5zHIdZtg13MoE3m8HzPEy4n8/n8H0/0el0Ctd1k1yoPfGY68ds4sdofGnLkqqq8thxMHZsZlmWKEUQBAmiZBuRLRaLhE22CAIWhSFbLWN02pvC8Ri2ba9EIfcsCBac4J/w0m2/iqIIrVZLlhqNhixW50UrUco9C/kXBeKlDes5/HO2OecqylZxHKMtNlQUZU/8Ji9LENvySzdmuVyi2WzuSel0eiebzaZyuVwqn8+n8oVC6uCgmCoWb04mk9mR/vfzCwZr+95x+A0SAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="webkit 2x"
        title=""
        src="/static/6b89a7a3b6ecd77e1a66dab09bf392f8/10273/webkit-2x.png"
        srcset="/static/6b89a7a3b6ecd77e1a66dab09bf392f8/9b14a/webkit-2x.png 163w,
/static/6b89a7a3b6ecd77e1a66dab09bf392f8/94962/webkit-2x.png 325w,
/static/6b89a7a3b6ecd77e1a66dab09bf392f8/10273/webkit-2x.png 650w,
/static/6b89a7a3b6ecd77e1a66dab09bf392f8/2fc6f/webkit-2x.png 975w,
/static/6b89a7a3b6ecd77e1a66dab09bf392f8/a8a2c/webkit-2x.png 1300w,
/static/6b89a7a3b6ecd77e1a66dab09bf392f8/173d2/webkit-2x.png 1950w,
/static/6b89a7a3b6ecd77e1a66dab09bf392f8/39b9b/webkit-2x.png 2960w"
        sizes="(max-width: 650px) 100vw, 650px"
      />
  </span>
위 이미지를 보시면 <code class="language-text">image-src.png</code>나 <code class="language-text">image-1x.png</code>를 받지 않고 <code class="language-text">image-2x.png</code>만 받는걸 확인 할 수 있습니다.
<a href="https://webkit.org/demos/srcset/">여기에서</a> 직접 확인해 볼 수 있습니다.</p>
<p>어떤 조건에도 해당 되지 않거나, 이미지를 가져올 수 없다면 <code class="language-text">src</code>에 있는 이미지를 가져오게 됩니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>image-src.png<span class="token punctuation">"</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>image-2x.png 2x<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre></div>
<p>예를 들어 위와 같이 작성하면 2x, 3x ... 밀도를 가진 기기는 <code class="language-text">image-2x.png</code>를 가져오고,
<code class="language-text">srcset</code>을 지원하지 않는 브라우저나 일반 디스플레이는 <code class="language-text">image-src.png</code>을 가져오게 됩니다.</p>
<p>따라서 <code class="language-text">srcset</code>을 지원하지 않는 브라우저도 (비록 상대적으로 흐린 이미지 겠지만) 이미지 자체는 표시가 될 뿐더러,
불필요한 이미지를 가져오지 않아, 성능에도 도움이 됩니다.</p>
<h2>덤</h2>
<p><code class="language-text">srcset</code>으로 가져온 이미지는 한가지 특징을 가지게 됩니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>image-src.png<span class="token punctuation">"</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>image-2x.png 2x<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre></div>
<p>다음과 같이 HTML을 작성하였고, image-2x.png는 200px<em>200px 크기의 이미지 라면,
<code class="language-text">img</code>에 <code class="language-text">width: 100%</code>를 주었어도 100px</em>100px으로 표시됩니다.</p>
<p>따라서 이미지 크기를 반드시 2배 키워서 사용해야 크기 실수를 방지 할 수 있습니다.
safari는 개발자용 > 응답형디자인모드 에서 최대 3x 까지 디스플레이 밀도를 조정하며 확인해 볼 수 있습니다.</p>
<h3>img-set</h3>
<p>css에도 img-set이란 속성이 있습니다. 아쉽게도 현재는 사파리와 크롬만 <a href="https://caniuse.com/#search=image-set">지원하고</a> 있는데요,
다음과 같은 방법으로 사용할 수 있습니다.</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">.test</span> <span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url(image-1x.png)</span><span class="token punctuation">;</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">-webkit-image-set</span><span class="token punctuation">(</span><span class="token url">url(image-1x.png)</span> 1x, <span class="token url">url(image-2x.png)</span> 2x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>75px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>아쉽게도 사파리와 크롬만 지원하지만 <code class="language-text">srcset</code>처럼 fallback이 있으므로 콘텐츠에 문제를 만들지 않으며, 적합한 이미지만 골라 받아 오게 됩니다.</p>
<p>하지만,</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">.img-retina</span> <span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url(...)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@media</span> only screen and <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 2<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.img-retina</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url(...)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>위의 css를 사용해도 적합한 파일만을 받기 때문에 현재로썬 복잡한 미디어 쿼리를 작성하기 싫을 경우에 유용합니다.</p>
<h1>결론</h1>
<ul>
<li>문서 상단처럼 고밀도 디스플레이에 서로 다른 HTML Element를 보여줘야 한다</li>
<li>동적으로 이미지를 가져오는 것이 싫다</li>
<li>IE에도 고해상도 이미지를 보여주고 싶다</li>
</ul>
<p><code class="language-text">resolution</code> 미디어 쿼리를 이용하세요.</p>
<ul>
<li>IE를 지원해야 합니다</li>
<li>동적으로 이미지를 가져와도 좋다.</li>
</ul>
<p>자바스크립트를 이용해 구현하여 사용합니다. 개인적으로는 retinajs를 추천합니다.</p>
<p>그외의 경우에는 <code class="language-text">srcset</code>과 사용하시는 것을 권장합니다.</p></div></main><footer class="Footer-module--footer--VUGIP"><div class="Footer-module--content--3u_Ao">© 2018 Han Lee. All right Reserved.</div></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-111601591-4', 'auto', {});
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-post-jsx","jsonName":"2018-high-density-display-and-images-d4e","path":"/2018/high-density-display-and-images/"};window.dataPath="177/path---2018-high-density-display-and-images-d-4-e-577-1ZgCaTbdUx31QmoFtKpYmgJgc";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-6f8fe7d4739b6c28c3fe.js"],"component---src-templates-post-jsx":["/component---src-templates-post-jsx.018409ee918aeb08a724.css","/component---src-templates-post-jsx-a3d348e2948c4a173ea8.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx.2e8869e1c16e441299d2.css","/component---src-pages-index-jsx-594df922b02e0e1e2664.js"],"pages-manifest":["/pages-manifest-276b566062113f768b09.js"]};/*]]>*/</script><script src="/component---src-templates-post-jsx-a3d348e2948c4a173ea8.js" async=""></script><script src="/0-2cce526182ff9e47ba62.js" async=""></script><script src="/app-6f8fe7d4739b6c28c3fe.js" async=""></script><script src="/webpack-runtime-05633a064d5f2e933205.js" async=""></script></body></html>