<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/component---src-templates-post-jsx.70d53bf7310d2156849c.css">code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.ArticleCard-module--articleCard--11z6V{display:flex;flex-wrap:nowrap;flex-direction:column;justify-content:space-between;padding:1rem 0;text-decoration:none;border-bottom:1px solid #e4e6eb}.ArticleCard-module--articleCard--11z6V:last-child{border-bottom:none}.ArticleCard-module--articleCard--11z6V .ArticleCard-module--date--276QY{margin:0}.ArticleCard-module--articleCard--11z6V .ArticleCard-module--title--1qLBI{font-size:1.75rem;word-break:keep-all;margin:.5rem 0;line-height:1.2;color:#4d5256}.ArticleCard-module--articleCard--11z6V .ArticleCard-module--timeToRead--30lQv{text-align:right;line-height:1.2;margin:0}.ArticleCard-module--articleCard--11z6V .ArticleCard-module--timeToRead--30lQv i{font-size:1rem;margin-right:.25rem;vertical-align:top}.Footer-module--footer--VUGIP{border-top:1px solid #e4e6eb;color:#a5a5a5}.Footer-module--footer--VUGIP .Footer-module--content--3u_Ao{max-width:800px;margin:0 auto;padding:1rem}.NavBar-module--navBar--34wO1{height:56px;background:#fff;width:100%;box-shadow:0 1px 3px rgba(0,0,0,.07)}.NavBar-module--navBar--34wO1 .NavBar-module--content--1z5Z5{display:flex;width:100%;height:100%;max-width:800px;padding:1rem;margin:0 auto;align-items:center;justify-content:space-between}.NavBar-module--navBar--34wO1 .NavBar-module--homeLink--2g7Yn{color:#4d5256;font-size:1.5rem;font-weight:700;text-decoration:none}.NavBar-module--navBar--34wO1 .NavBar-module--links--lZl1w a{padding:0 .5rem;color:#a5a5a5;text-decoration:none}.Page-module--page--2nMky{display:flex;flex-direction:column;width:100%;height:100%}.Page-module--page--2nMky .Page-module--content--pXhYh{flex:1 1;flex-wrap:nowrap;width:100%;max-width:800px;padding:1rem;margin:0 auto}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}dl,ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-spacing:0}*,:after,:before{box-sizing:border-box}code,pre{font-family:Menlo,Courier New,Monaco,Spoqa Han Sans,monospace}code.language-text{padding:.25em .5em!important;font-size:85%!important;color:#364fc7!important;background-color:#f1f3f5!important;border-radius:3px!important;text-shadow:none!important}html{font-size:18px}body{font-family:Spoqa Han Sans,Source Sans Pro,Apple SD Gothic Neo,Nanum Barun Gothic,Nanum Gothic,Verdana,Arial,Dotum,sans-serif;color:#4d5256;line-height:1.6}body,html{font-family:sans-serif}body,body>div,body>div>div,html,html>div,html>div>div{width:100%;height:100%;padding:0;margin:0}h1,h2,h3,h4,h5,h6{line-height:1.7;margin:1em 0 15px;padding:0}@media screen and (max-width:640px){h1,h2,h3,h4,h5,h6{line-height:1.4}}h1,h2,h3,h5{font-weight:700}h1{font-size:30px}h1 a{color:inherit}h2{font-size:24px}h3,h4{font-size:20px}h4,h6{color:#868e96}p{color:#343a40;margin:15px 0}a{text-decoration:none;cursor:pointer}a,a:active,a:hover{color:#1b6ec2}em,i{font-style:italic}b,strong{font-weight:700}sub{vertical-align:sub}sub,sup{font-size:smaller}sup{vertical-align:super}hr{border:0;border-top:1px solid #f1f3f5;margin:1.5em auto}ol>li:before,ul>li:before{position:absolute;width:1.4em;margin-left:-1.4em;display:inline-block;box-sizing:border-box;text-align:right}ul>li:before{content:"\2022";padding-right:.3em;font-family:inherit;font-size:1.4em;line-height:1.2}ol{counter-reset:section}ol>li:before{counter-increment:section;content:counter(section) ".";padding-right:.3em;font-family:inherit;font-size:1em;line-height:inherit}ol>li,ul>li{margin:0 auto .4em 1.4em;line-height:1.55}ol>li>ol,ol>li>ul,ul>li>ol,ul>li>ul{margin-top:.4em}li>ol>li,li>ul>li{font-size:.95em;margin:0 auto .38em 1.33em}dt{float:left;width:180px;overflow:auto;clear:left;text-align:right;white-space:nowrap;font-weight:700;margin-bottom:.4em}@media screen and (max-width:640px){dt{width:120px}}dd{margin-left:200px;margin-bottom:.4em}@media screen and (max-width:640px){dd{margin-left:140px}}table{margin-bottom:1rem;width:100%;border:1px solid #e9ecef;border-collapse:collapse}td,th{padding:.25rem .5rem;border:1px solid #e9ecef}tbody tr:nth-child(odd) td,tbody tr:nth-child(odd) th{background-color:#f1f3f5}blockquote{font-weight:300;padding:0 0 0 1.4rem;margin:0 2rem 1rem 0;border-left:.2em solid #dee2e6}blockquote p{color:#868e96}blockquote p:last-child{margin-bottom:0}.post-module--title--hTIc5{font-size:1.75rem}.post-module--content--J5WVo figcaption{text-align:center;margin-top:.5rem;margin-bottom:1rem;font-size:.825rem}</style><meta name="generator" content="Gatsby 2.0.78"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-9b046be955460e4ed382.js"/><link as="script" rel="preload" href="/app-6f8fe7d4739b6c28c3fe.js"/><link as="script" rel="preload" href="/0-2cce526182ff9e47ba62.js"/><link as="script" rel="preload" href="/component---src-templates-post-jsx-f1d9d1b4b44e9ecfaf9d.js"/><link as="fetch" rel="preload" href="/static/d/650/path---2019-do-front-ends-dream-of-back-ends-6-f-8-e3a-9rFDskgMw3M5xcQFNlghFmbVJU.json" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="Page-module--page--2nMky"><nav class="NavBar-module--navBar--34wO1"><div class="NavBar-module--content--1z5Z5"><a class="NavBar-module--homeLink--2g7Yn" href="/">HAN LEE</a><section class="NavBar-module--links--lZl1w"><a href="https://hanlee.io" target="_blink">About</a><a href="https://github.com/hahnlee" target="_blink">GitHub</a><a href="https://blog.hanlee.io/rss.xml" target="_blink">RSS</a></section></div></nav><main class="Page-module--content--pXhYh"><h1 class="post-module--title--hTIc5">프론트엔드는 백엔드의 꿈을 꾸는가?</h1><p>2019-04-07</p><div class="post-module--content--J5WVo"><p>현재 나는 휴학을 하고 <a href="https://zoyi.co">ZOYI</a>에서 프론트 엔드 개발자로 일하고 있는데,
3년 전 컴퓨터 공학을 전공으로 선택할 때만 해도 프론트엔드 개발을 할 것이라 생각하지 않았다.</p>
<p>몇 가지 이유가 있는데, 첫째로 당시에 미래의 웹 페이지는 모두 포토샵과 같은 WYSIWYG 에디터로 만들 것으로 생각했다.</p>
<p>그때는 <strong>웹앱</strong>을 몰라서 했던 생각이지만, 지금도 정적 페이지, 간단한 쇼핑몰 같은 페이지는 그렇게 될 것으로 생각한다.</p>
<p>둘째로 JavaScript 언어의 난해함과 내 생각대로 작동하지 않는 CSS였다. 특히 <a href="https://css-tricks.com/centering-css-complete-guide/">세로 중앙정렬</a>은 너무나 이상하게 느껴졌다.
<figure><span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 500px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 53.400000000000006%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGZuJtRKKD/xAAbEAACAgMBAAAAAAAAAAAAAAABAgMSAAQUMf/aAAgBAQABBQJJRdtdaCNgD67HlEjrn//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EAB8QAAICAQQDAAAAAAAAAAAAAAECABEhAxASMVFhcf/aAAgBAQAGPwJwFs/e4dQu5rzBxujnGw9ylap//8QAHBAAAwABBQAAAAAAAAAAAAAAAAERURAhMUGB/9oACAEBAAE/IUKc5dvwPTZqQfTZpoUPc3YS0Jg//9oADAMBAAIAAwAAABDk3//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/EEf/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QbX//xAAaEAEBAQEBAQEAAAAAAAAAAAABESEAMUFR/9oACAEBAAE/EB12qaCChJ43xc6lJ1D25v5XkrQ9IDZs+5yabzLCgYNPevzdhy9//9k='); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="css mug"
        title=""
        src="/static/bef713d33288a3f1cbeb6febf63a19f5/c8fb8/css-mug.jpg"
        srcset="/static/bef713d33288a3f1cbeb6febf63a19f5/c4e12/css-mug.jpg 163w,
/static/bef713d33288a3f1cbeb6febf63a19f5/4c58b/css-mug.jpg 325w,
/static/bef713d33288a3f1cbeb6febf63a19f5/c8fb8/css-mug.jpg 500w"
        sizes="(max-width: 500px) 100vw, 500px"
      />
  </span><figcaption>여전히 마음에 안들 때도 있다</figcaption></figure>
다행히 ES6 이후의 JS의 변화와 <a href="https://babeljs.io/">지원 노력</a>으로 (내 기준으로) 난해한 언어는 아니며,
CSS는 사용과 공부, flex와 같은 새로운 스타일로 적응 할 수 있었다.</p>
<p>하지만 무엇 보다도, <a href="https://vimrc.io/">vimrc.io</a>를 만들때 사용한, <a href="https://reactjs.org/">React</a>의 만족감이 큰 역할을 했다.</p>
<h1>진료는 의사에게 약은 약사에게</h1>
<p>React의 가장 만족스러운 점은 <strong>관심사의 분리</strong> 이다. 예를 들어 게시물 목록을 간단히 React로 작성해보면 다음과 같다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">class</span> <span class="token class-name">PostList</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    isLoading<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    posts<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    error<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">fetchPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'SOME_API'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'로딩에 실패하였습니다'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> posts <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          posts<span class="token punctuation">,</span>
          isLoading<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          error<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          error<span class="token punctuation">:</span> e<span class="token punctuation">.</span>message<span class="token punctuation">,</span>
          isLoading<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          posts<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> isLoading<span class="token punctuation">,</span> posts<span class="token punctuation">,</span> error <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state

    <span class="token keyword">if</span> <span class="token punctuation">(</span>isLoading<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>spinner<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>error<span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>posts<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">게시글이 없습니다</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>posts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>post <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>여전히 한 파일에 있지만, 각 영역은 철저히 자신의 역할만 책임진다.</p>
<ul>
<li>
<p><code class="language-text">fetchPosts</code>함수는 API를 요청하고, 그 결과를 처리한다.</p>
<ul>
<li>fetchPosts 함수는 HTML 렌더링은 신경쓰지 않고 데이터만 처리한다.</li>
</ul>
</li>
<li>
<p><code class="language-text">render</code>함수는 상태에 따라 필요한 HTML을 렌더링한다.</p>
<ul>
<li>React 같은 라이브러리의 장점은, 매번 새로 렌더링을 하기 때문에, 이전 상태를 고려 하지 않고 지금의 상태만 처리하면 된다.</li>
</ul>
</li>
</ul>
<p>이제 원한다면 두 함수를 완전히 분리할 수도 있다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">function</span> <span class="token function">PostList</span><span class="token punctuation">(</span><span class="token punctuation">{</span> isLoading<span class="token punctuation">,</span> posts<span class="token punctuation">,</span> error <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isLoading<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>spinner<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>error<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>posts<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">게시글이 없습니다</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>posts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>post <span class="token operator">=></span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">PostContainer</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    isLoading<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    posts<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    error<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">fetchPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'SOME_API'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'로딩에 실패하였습니다'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> posts <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          posts<span class="token punctuation">,</span>
          isLoading<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          error<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          error<span class="token punctuation">:</span> e<span class="token punctuation">.</span>message<span class="token punctuation">,</span>
          isLoading<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          posts<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> isLoading<span class="token punctuation">,</span> error<span class="token punctuation">,</span> posts <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PostList</span>
        <span class="token attr-name">isLoading</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>isLoading<span class="token punctuation">}</span></span>
        <span class="token attr-name">error</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>error<span class="token punctuation">}</span></span>
        <span class="token attr-name">posts</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>posts<span class="token punctuation">}</span></span>
      <span class="token punctuation">/></span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><code class="language-text">PostList</code>는 렌더링만 책임을 지며, <code class="language-text">PostContainer</code>는 주로 데이터를 가져오는 것을 책임진다.
이러한 접근법은 재사용성을 크게 강화하는데, 이제 다른 컴포넌트에서도 <code class="language-text">PostList</code>가 원하는 데이터 형식만 맞춘다면, 동일한 컴포넌트를 여러곳에서 사용할 수 있게 된다.</p>
<p>이렇듯, React는 관심사의 분리와 렌더링과 DOM 이벤트 관리를 쉽게 도와주었지만, <strong>데이터 관리</strong>라는 어마어마한 폭탄도 가져왔다.</p>
<h1>골드버그 장치</h1>
<p><figure><a
    class="gatsby-resp-image-link"
    href="/static/51f064f134d28d890afd1d0e06d70c01/c88de/goldberg.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 52.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFAQL/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGrwhRTMD//xAAcEAEAAgIDAQAAAAAAAAAAAAABAAIEEQMSEyL/2gAIAQEAAQUCt8zjVR1M6p4UdZPUZ//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EAB0QAAICAQUAAAAAAAAAAAAAAAABESExEkFRYcH/2gAIAQEABj8CdrT2NzvhFsnix3leEn//xAAbEAEAAwEBAQEAAAAAAAAAAAABABEhMWFxgf/aAAgBAQABPyFN7Q3xCQB6S/yaKLdgECnD7EUI673E6F2+z//aAAwDAQACAAMAAAAQkw//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAeEAEBAAICAgMAAAAAAAAAAAABEQAhMUFRYXGRof/aAAgBAQABPxCrwjYSOqvk/cLVIkSHwnfWaojULxoyngkVACFTh57xr1UiiEGccr94a6gFRF0e8//Z'); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="goldberg"
        title=""
        src="/static/51f064f134d28d890afd1d0e06d70c01/b80fa/goldberg.jpg"
        srcset="/static/51f064f134d28d890afd1d0e06d70c01/cf410/goldberg.jpg 163w,
/static/51f064f134d28d890afd1d0e06d70c01/62f2a/goldberg.jpg 325w,
/static/51f064f134d28d890afd1d0e06d70c01/b80fa/goldberg.jpg 650w,
/static/51f064f134d28d890afd1d0e06d70c01/c88de/goldberg.jpg 800w"
        sizes="(max-width: 650px) 100vw, 650px"
      />
  </span>
  </a><figcaption>Professor Butts and the Self-Operating Napkin - 루브 골드버그</figcaption></figure></p>
<blockquote>
<p>나쁜 프로그래머는 코드에 대해 걱정 하고, 좋은 프로그래머는 데이터 구조와 관계를 걱정 한다</p>
</blockquote>
<p>리누스 토발즈의 <a href="https://lwn.net/Articles/193245">발언</a>이며, 개인적으로 토발즈의 발언중 가장 좋아하는 발언이다.</p>
<p>React-Redux 앱을 만들면 더더욱 데이터와 그 흐름의 중요성을 느끼게 된다.
일부는 React의 단방향 데이터흐름, Redux의 구조 때문이지만 (그러나 두 특징 모두 버그를 줄이고, 역할을 나누는데 큰 도움을 준다),
보다 근본적으로는 기능에 따른 독립적인 또는 공통의 상태들이 필요하기 때문이다.</p>
<p><figure><a
    class="gatsby-resp-image-link"
    href="/static/2b831df5c26f1f372d6b753fac0e8579/3730e/list-select.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 310px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 107.0967741935484%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAAC/ElEQVQ4y5WU2W7TQBSGfcMTcM8V4gF4GcQdV0iIB+CCt2ARN4g7kJAAUQlES8VOUQstIS21U8f7EqeJl9jZ7LHjnzPTha0pxdKnmcyc889/Zo4iOY6PVTXAR7UL2/Ygty2ohitoaTY0y4Nh+9D/gak5MEwP0pri4NxjhjOPZlhs2nj56iOeLn3A65UNLL5ZxXqzReIOlLYtDvgLWldMF+byOtqNHUifWy7OLzCcfVJhiQRlWYVCp/HgHf3neFIkw7Cxorh4L3vQdRPfd0zh6H9EfhOUyXJbs9DWLfC5Qncoq3vwuSLWTsB+vOT5XQSdAL7P6cLvhvCDPjq7ERx/F7bX/TduAKNDsZQvdXoxLr3LcfFtAc0PsfDsBV69/4SF50swLBdhnGK3H6MXHkUi9sIkQ7nlIHJIcMOOcfphjVMPgOV2jM1GA5tKG/KOBpdO5QndXjSXPoka1G4P796HpduQojDCva0Mt5tDBN0+Vr80RECSjg7F+HgUfC8id9tk4Oq169gmExJfzKIQI4LPeRl87JB4sBse647DY3jOaDRFr59ACuMB4jQVREmKbDjBIBvROEZKhNEAPOY4+hHd5SBFn/KlqqqgmmO09DHGkym2thV49OK6acH1O6iqGcqymg8rUc5mQDBANZxC6oU5lj4kWF4ZwHAyyIoMjXqypWrQDFMIMkqaBxfNCwb33VfkUQYpz0usNVOsfssQxUPqKQ+/fiKRko4SK0iIf7bj4cLlK7AoV5RcVSWqkoHP85yJwAN+dTIPHhf2IzFKjFFSSU4q7oZhNqtFmXtUh7+LY8rm1LwaEpe4WJHZKFIdvAL+YgPqwWSQiZfu0Ssn6XDfyXzBIhuDTQsSHAdg5k2U1g0S1bC+aaC5raKxpUKlf4+3a9/QVHRxV8VRpe+/crWhoQzpUdgkBrPuELcwTV2MJhVqCqjrGjMqdTzJMc0LkTy3ZL5H1yNKLvndTRMiQs5qDEfj35IP+pDNcccOXO7vS3uBNQGiPOy7Px2dVPQHU6sby806PiIAAAAASUVORK5CYII='); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="list select"
        title=""
        src="/static/2b831df5c26f1f372d6b753fac0e8579/3730e/list-select.png"
        srcset="/static/2b831df5c26f1f372d6b753fac0e8579/22beb/list-select.png 163w,
/static/2b831df5c26f1f372d6b753fac0e8579/3730e/list-select.png 310w"
        sizes="(max-width: 310px) 100vw, 310px"
      />
  </span>
  </a><figcaption>유저 채팅 목록</figcaption></figure></p>
<ul>
<li>
<p>어떤 데이터는 <strong>여러곳</strong>에 연관되어 있지만, 어떤건 아니다</p>
<ul>
<li>위의 유저 채팅 목록 처럼, 리스트는 여러 곳에서 필요한 부분만 가져가서 사용하지만, 선택 여부는 일부 컴포넌트만 가지고 있다.</li>
</ul>
</li>
<li>
<p>어떤 데이터들은 <em>여러곳에서</em> 서로 다르게 가공하여 사용할 수도 있다.</p>
<ul>
<li>어떤 컴포넌트는 데이터를 모두 활용해야 한다.</li>
<li>어떤 컴포넌트는 조건에 따라서 일부 데이터만 사용한다.</li>
<li>서로 다른 데이터를 합치거나, 평균을 구하거나, 가공할 필요가 생긴다 (예: 차트)</li>
</ul>
</li>
</ul>
<p>데이터의 구조와 규모 뿐만 아니라 이들을 가공하는것도 만만하지 않다.</p>
<ul>
<li>어떤 작업(가공)은 지나치게 오래걸린다.</li>
<li>어떤 작업들은 선행 작업들이 필요하다.</li>
</ul>
<h1>데이터는 어디서 왔으며, 무엇이고, 어디로 가는가?</h1>
<p><figure><a
    class="gatsby-resp-image-link"
    href="/static/150fc1aa0aa5c86d478de84486b98a7e/c5446/where-do-we-come-from-what-are-we-where-are-we-going.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 37.00305810397553%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHLYERU/wD/xAAYEAEAAwEAAAAAAAAAAAAAAAABAAIhEf/aAAgBAQABBQJ15g2J/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAQUAAAAAAAAAAAAAAAAAAQAQITFh/9oACAEBAAY/ArJOtC//xAAYEAADAQEAAAAAAAAAAAAAAAABESEAcf/aAAgBAQABPyGghgqxYWaMCtDu/9oADAMBAAIAAwAAABAH3//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxCXG//EABYRAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAgEBPxBswCV3/8QAGhABAQACAwAAAAAAAAAAAAAAAREAITFRsf/aAAgBAQABPxC0AOqPOvMIzUW9SZDKm5Rn/9k='); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="where do we come from what are we where are we going"
        title=""
        src="/static/150fc1aa0aa5c86d478de84486b98a7e/b80fa/where-do-we-come-from-what-are-we-where-are-we-going.jpg"
        srcset="/static/150fc1aa0aa5c86d478de84486b98a7e/cf410/where-do-we-come-from-what-are-we-where-are-we-going.jpg 163w,
/static/150fc1aa0aa5c86d478de84486b98a7e/62f2a/where-do-we-come-from-what-are-we-where-are-we-going.jpg 325w,
/static/150fc1aa0aa5c86d478de84486b98a7e/b80fa/where-do-we-come-from-what-are-we-where-are-we-going.jpg 650w,
/static/150fc1aa0aa5c86d478de84486b98a7e/c5446/where-do-we-come-from-what-are-we-where-are-we-going.jpg 654w"
        sizes="(max-width: 650px) 100vw, 650px"
      />
  </span>
  </a><figcaption>우리는 어디서 왔으며, 무엇이고, 어디로 가는가? - 폴 고갱</figcaption></figure>
여기에 서버로부터 데이터를 가져온다면 더 가정해야할 것들이 생긴다.</p>
<ul>
<li>
<p>어떤 API<em>들</em>은 다른 API에 의존적이다.</p>
<ul>
<li>한 API의 결과에 따라 호출이 될수도 아닐 수도 있다.</li>
<li>한 API가 호출된 후 호출해야 한다.</li>
<li>성능 문제로 (예: 너무 잦은 렌더링) 한번에 묶어서 결과를 처리 해야 할 수도 있다.</li>
</ul>
</li>
<li>
<p>API의 프로토콜, 형식이 모두 다를 수 있다.</p>
<ul>
<li>많은 경우 JSON HTTP API를 사용할 것이다.</li>
<li>실시간 데이터 처리를 위해 WebSocket을 사용 할 수도 있다.</li>
<li>HTTP 프로토콜을 사용해도, graphql처럼 한 엔드 포인트에 서로 다른 정보를 넘겨야 할 수도 있다.</li>
<li>IndexDB, WebSQL, LocalStorage을 이용해 로컬에서 데이터를 사용할 수도 있다.</li>
</ul>
</li>
</ul>
<p>이처럼 지금의 프론트엔드 특히 웹앱은 <em>어떻게 보일것인가</em>는 물론 <strong>데이터를 어떻게 관리할 것인가</strong>도 고민해야 하며, 데이터의 규모와 복잡도는 앞으로도 커질 수 있다.</p>
<h1>거인의 어깨 위</h1>
<p>위의 고민은 꼭 프론트만 가지고 있는건 아니다.</p>
<ul>
<li>어떤 API<em>들</em>은 다른 API에 의존적이다.</li>
<li>
<p>API의 프로토콜, 형식이 모두 다를 수 있다.</p>
<ul>
<li>서로 다른 DB 엔진에서 가져올 수도 있다. (RDBMS, NoSQL)</li>
</ul>
</li>
<li>
<p>어떤 데이터들은 <em>여러곳에서</em> 서로 다르게 가공하여 사용할 수도 있다.</p>
<ul>
<li>일반적으로 SQL의 JOIN을 사용하는 API가 적어도 하나는 있을 것이다.</li>
</ul>
</li>
<li>어떤 작업은 지나치게 오래 걸린다</li>
</ul>
<p>백엔드 생태계는 이런 상황을 먼저 겪었으며, 각각의 해법들 (SQL, Repository, Task Queue)을 만들며 발전하게 되었다.</p>
<h1>수렴진화</h1>
<p><figure><a
    class="gatsby-resp-image-link"
    href="/static/88a96e209ef973468c52cbca3f085851/d62af/convergent-evolution.jpeg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 310px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 52.58064516129033%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFAQT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABr8tJEMNK/8QAGhAAAgIDAAAAAAAAAAAAAAAAAQIAEQMQEv/aAAgBAQABBQJ+oM5tWvRRQan/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAdEAABAwUBAAAAAAAAAAAAAAABABARAiEiUXGB/9oACAEBAAY/ArSeLKoeLTCA3//EABsQAQEBAAIDAAAAAAAAAAAAAAERACFBMVFx/9oACAEBAAE/IWOaPWSQHxXCW9pHIPnIpjetG//aAAwDAQACAAMAAAAQDM//xAAXEQADAQAAAAAAAAAAAAAAAAABEBFB/9oACAEDAQE/EBNX/8QAFxEAAwEAAAAAAAAAAAAAAAAAARARQf/aAAgBAgEBPxA3F//EABoQAQADAQEBAAAAAAAAAAAAAAEAESExUZH/2gAIAQEAAT8QYBNyoB9VhC49NLMikFi4X5MUCeMx27Yqx7HA2g9Z/9k='); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="convergent evolution"
        title=""
        src="/static/88a96e209ef973468c52cbca3f085851/d62af/convergent-evolution.jpeg"
        srcset="/static/88a96e209ef973468c52cbca3f085851/b639a/convergent-evolution.jpeg 163w,
/static/88a96e209ef973468c52cbca3f085851/d62af/convergent-evolution.jpeg 310w"
        sizes="(max-width: 310px) 100vw, 310px"
      />
  </span>
  </a><figcaption>어류, 해양 포유류, 해양 파충류의 수렴진화</figcaption></figure></p>
<blockquote>
<p>React 생태계는 백엔드와 닮아서 좋아요.</p>
</blockquote>
<p>회사에서 같이 일하는 개발자에게 들었던 말이다. 처음 이 말을 들었을때는 잘 이해하지 못했지만, 점점 공감이 가기 시작했다.</p>
<p><figure><span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 57.55813953488372%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACcklEQVQoz6VSS2/TQBC2hIT4BVWqPVVFakvSpikvceVf8Bu4xHChNOXRlkMOcKjElQPiyqESHEDiQFXUG0IIJ1aqNk3cNnYSv12/srvDeN2G9sxYn2d2PfvNN7OWlN871WO9J7fbbVlRFLnRaIjYMAyELmK12ZS73Y7Y03VdbrVamKfITczNPH57rKrqw2q1ek3yXAdcz4UwDOF/DAtBvV6flGzHTYemReM4TtN0NPKDcGS7/ihJcEGZAD3zGAjQsz0BxrJj3PMDd23jVUEamBZ3PR8VRtkmj5OEU0p5ZgA58C0e4eEy8jyAMIqD5ZXVgmRatiBEeRxJIUlTYHkOfGlR+HXCRHzOJVgvQySfhmGwsvq8ILmux03LgQSVhVEEqBAoyw/XtwE+/sliCl5AYb9NAdsE7BUYY6LwP8IoJ3QyQtsBnCE/zRReINzc5bClZAojaO6l8HSdY2tJdnh8GYxdVPisIBkDk9uuN24Z/ZjwzQ+ArUbe/n4HYHkNAOcv1t++74Gi6nA2S+zgNFip4Qxdz6NRFPFRmlKswtIkyWqiLM42dxn7pHIR7x8yVtugLElZJpm9frvNPn9tMjEPHEHie778pFaQ8DcRbZyXGp2XRLMCAD/m4/bw7sYWxRRnmccGYkf3kvfrtUnpoH3Y7XS1o36/3+3putbR+9qRPtCOewNN1zMY2mA41CzL1FzX0kzT1IZDU3McWxtibPeN7s5B7+TDz7b67sWjCalSqUwiyCKiXC6Te4sL5O7NMrl9q0zKlQWyuLRE5ufnyexckUxN3yA3iiVSLJXI9PUZMjMzS6bmSuTBnSJ5eb9UkK5OXPkLB2UwBSCREewAAAAASUVORK5CYII='); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="dashboard"
        title=""
        src="/static/524b728ed624e308a268416c4ca4bde5/10273/dashboard.png"
        srcset="/static/524b728ed624e308a268416c4ca4bde5/9b14a/dashboard.png 163w,
/static/524b728ed624e308a268416c4ca4bde5/94962/dashboard.png 325w,
/static/524b728ed624e308a268416c4ca4bde5/10273/dashboard.png 650w,
/static/524b728ed624e308a268416c4ca4bde5/2fc6f/dashboard.png 975w,
/static/524b728ed624e308a268416c4ca4bde5/a8a2c/dashboard.png 1300w,
/static/524b728ed624e308a268416c4ca4bde5/173d2/dashboard.png 1950w,
/static/524b728ed624e308a268416c4ca4bde5/618df/dashboard.png 2752w"
        sizes="(max-width: 650px) 100vw, 650px"
      />
  </span><figcaption>데모용 대시보드</figcaption></figure>
현재 ZOYI에서는 크게 두 팀이 있는데, 그 중 <a href="http://walkinsights.com/">워크인사이트</a>오프라인 고객분석을 하는데, 데이터를 시각화 하여 보여주는 대시보드 개발에 참여했다.</p>
<p><a href="https://board.walkinsights.com/#/demo">데모 대시보드</a>를 개편하는 일을 맡았을때, 데모 대시보드는 여러 이유로 다른 API와 다른 방식으로 데이터를 가져와야 했다.</p>
<p>이때 최대한 컴포넌트와 리듀서 구조는 유지하고 싶었고, (위의 발언을 한 개발자는) 스프링프레임워크와 같은 백엔드에서 주로 사용한 Repository 패턴을 추천해 주었다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">UserRepositry</span> <span class="token punctuation">{</span>
  <span class="token function">getUser</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'USER_API_ENDPOINT'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// fetch api 함수를 흉내낸 함수</span>
<span class="token keyword">function</span> <span class="token function">mockFetch</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      status<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
      ok<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      json<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> data<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">DemoUserRepository</span> <span class="token punctuation">{</span>
  <span class="token function">getUser</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">mockFetch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'Demo User'</span><span class="token punctuation">,</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>처음에는 데모페이지에 사용하는 API가 추가될때마다 두개의 Repository가 생기는게 귀찮았지만, 점점 진가가 발휘되었다.</p>
<ul>
<li>UserReducer - DemoUserReducer, UserAction - DemoUserAction 등등 로직은 곂치지만, 재사용하지 못한 데이터 레이어를 활용 할 수 있었다.</li>
<li>
<p>테스트를 할때 Repository만 교체해주면 되었다.</p>
<ul>
<li>물론 fetch api를 mocking 할 수도 있지만, 이 편이 더 깔끔했다.</li>
</ul>
</li>
</ul>
<p>물론 이런 해결법을 우리만 사용하는건 아니다.</p>
<h2>MobX</h2>
<p>사내에서 그리고 많은 React 앱들이 상태관리를 위해 Redux를 사용하지만, 다른 상태관리 라이브러리들도 많다.</p>
<p>Redux를 제외한 라이브러리중 단연 눈에띄는 라이브러리는 <a href="https://github.com/mobxjs/mobx">MobX</a>인데, 재미있게도 MobX에서는 Repository 패턴을 권장한다.
MobX의 Store, Repository 사용법은 Java의 Spring과 꽤 유사한데, 자세한 내용은 우아한 형제들의 <a href="http://woowabros.github.io/experience/2019/01/02/kimcj-react-mobx.html">React에서 Mobx 경험기 (Redux와 비교기)</a> 글을 추천한다.</p>
<h2>Immutable.js</h2>
<p><a href="https://immutable-js.github.io">Immutable.js</a>는 Facebook에서 JS의 불변성을 위해 만든 라이브러리다. 현재 일하고 있는 <a href="https://channel.io">채널</a> 팀에서는 Immutable.js를 적극적으로 활용하고 있는데, Immutable.js의 진가는 <a href="https://immutable-js.github.io/immutable-js/docs/#/Record">Record</a>라고 생각한다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> PersonRecord <span class="token operator">=</span> <span class="token function">Record</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Aristotle'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">2400</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">PersonRecord</span> <span class="token punctuation">{</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>채널에서는 대부분의 데이터를 Record를 활용해 표현하며, <code class="language-text">models</code>폴더에 따로 관리하고 있다. Reducer에서 필요한 방식으로 사용하고 있다.
위의 Person Model은 마치 <a href="https://docs.djangoproject.com/en/2.1/topics/db/models/">Django Models</a>처럼 보인다.</p>
<p>게다가 여러 데이터를 업데이트 할때도 <code class="language-text">setIn</code>과 같은 함수를 사용하니 더더욱 백엔드에서 사용한 모델들 처럼 느껴진다.</p>
<h2>Reselect</h2>
<p><a href="https://github.com/reduxjs/reselect">Reselect</a>는 Redux의 Selector를 구현 하는데 도움을 주는 라이브러리다.
Redux의 Selector는 <code class="language-text">react-reudx</code>의 <code class="language-text">connect</code>함수의  <code class="language-text">mapStateToProps</code> 부분이라고 생각하면 된다.</p>
<p>처음 Reudx를 사용하게 되면, 보통 <code class="language-text">mapStateToProps</code> 부분에서 아래처럼 사용하게 된다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>

<span class="token keyword">const</span> <span class="token function-variable function">mapStateToProps</span> <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  user<span class="token punctuation">:</span> state<span class="token punctuation">.</span>UserReducer<span class="token punctuation">.</span>user<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>UserInfo<span class="token punctuation">)</span></code></pre></div>
<p>그런데 <code class="language-text">UserInfo</code>가 서로 다른 리듀서에서 데이터를 가져올 뿐만 아니라, 그 값을 가공하게 된다면? <code class="language-text">render</code> 함수에서 가공할 수도 있겠지만, 그리 좋은 방법은 아니다.
이때 Reselect를 쓰면 다음과 같이 구현할 수 있다 (코드는 reselect 문서에서 가져와 수정했다)</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createSelector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reselect'</span>

<span class="token keyword">const</span> <span class="token function-variable function">shopItemsSelector</span> <span class="token operator">=</span> state <span class="token operator">=></span> state<span class="token punctuation">.</span>shop<span class="token punctuation">.</span>items
<span class="token keyword">const</span> <span class="token function-variable function">taxPercentSelector</span> <span class="token operator">=</span> state <span class="token operator">=></span> state<span class="token punctuation">.</span>shop<span class="token punctuation">.</span>taxPercent

<span class="token keyword">const</span> subtotalSelector <span class="token operator">=</span> <span class="token function">createSelector</span><span class="token punctuation">(</span>
  shopItemsSelector<span class="token punctuation">,</span>
  items <span class="token operator">=></span> items<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=></span> acc <span class="token operator">+</span> item<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token keyword">const</span> taxSelector <span class="token operator">=</span> <span class="token function">createSelector</span><span class="token punctuation">(</span>
  subtotalSelector<span class="token punctuation">,</span>
  taxPercentSelector<span class="token punctuation">,</span>
  <span class="token punctuation">(</span>subtotal<span class="token punctuation">,</span> taxPercent<span class="token punctuation">)</span> <span class="token operator">=></span> subtotal <span class="token operator">*</span> <span class="token punctuation">(</span>taxPercent <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> totalSelector <span class="token operator">=</span> <span class="token function">createSelector</span><span class="token punctuation">(</span>
  subtotalSelector<span class="token punctuation">,</span>
  taxSelector<span class="token punctuation">,</span>
  <span class="token punctuation">(</span>subtotal<span class="token punctuation">,</span> tax<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> total<span class="token punctuation">:</span> subtotal <span class="token operator">+</span> tax <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">mapStateToProps</span> <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  total<span class="token punctuation">:</span> <span class="token function">totalSelector</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>Tax<span class="token punctuation">)</span></code></pre></div>
<p>위 코드를 보면 <code class="language-text">subtotalSelector</code>와 <code class="language-text">taxSelector</code>는 각각 다른 리듀서에서 데이터를 가져와 가공하며, <code class="language-text">totalSelector</code>는 다시 두 셀렉터를 사용해 가공한다.
Redux는 <strong>하나의 상태트리</strong>만 가지기 때문에 <code class="language-text">state</code>에서 모든 데이터를 가져올 수 있기에 가능한 방식이다.</p>
<p>reselect를 사용하면 Reducer는 자신의 데이터만 가지고 있고, 여러 Selector를 활용해 가공하게 되니 Reducer의 역할을 DB의 Table 처럼 만들어 준다.
게다가 <a href="https://github.com/reduxjs/reselect#creating-a-memoized-selector">Memoized</a>기능도 있어, 불필요한 렌더링을 줄여준다.</p>
<h2>Normalizr</h2>
<p><a href="https://github.com/paularmstrong/normalizr">normalizr</a>는 데이터 정규화 라이브러리이다.
Redux를 사용해보면 중첩된 (nested)된 데이터는 불변성을 유지하기가 꽤 귀찮은데, 이를 쉽게 하기 위해 데이터 형식을 가공하게 해준다.
공식문서의 코드를 가져와 보면</p>
<p>다음의 데이터는</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"123"</span><span class="token punctuation">,</span>
  <span class="token property">"author"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Paul"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"My awesome blog post"</span><span class="token punctuation">,</span>
  <span class="token property">"comments"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"324"</span><span class="token punctuation">,</span>
      <span class="token property">"commenter"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"2"</span><span class="token punctuation">,</span>
        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Nicole"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div>
<p>다음의 코드를 이용해</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> normalize<span class="token punctuation">,</span> schema <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'normalizr'</span><span class="token punctuation">;</span>

<span class="token comment">// Define a users schema</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">schema<span class="token punctuation">.</span>Entity</span><span class="token punctuation">(</span><span class="token string">'users'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Define your comments schema</span>
<span class="token keyword">const</span> comment <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">schema<span class="token punctuation">.</span>Entity</span><span class="token punctuation">(</span><span class="token string">'comments'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  commenter<span class="token punctuation">:</span> user
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Define your article</span>
<span class="token keyword">const</span> article <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">schema<span class="token punctuation">.</span>Entity</span><span class="token punctuation">(</span><span class="token string">'articles'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  author<span class="token punctuation">:</span> user<span class="token punctuation">,</span>
  comments<span class="token punctuation">:</span> <span class="token punctuation">[</span>comment<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> normalizedData <span class="token operator">=</span> <span class="token function">normalize</span><span class="token punctuation">(</span>originalData<span class="token punctuation">,</span> article<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>다음 처럼 변환된다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  result<span class="token punctuation">:</span> <span class="token string">"123"</span><span class="token punctuation">,</span>
  entities<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"articles"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">"123"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        id<span class="token punctuation">:</span> <span class="token string">"123"</span><span class="token punctuation">,</span>
        author<span class="token punctuation">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>
        title<span class="token punctuation">:</span> <span class="token string">"My awesome blog post"</span><span class="token punctuation">,</span>
        comments<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">"324"</span> <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">"users"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">"1"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Paul"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">"2"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Nicole"</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">"comments"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">"324"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">"324"</span><span class="token punctuation">,</span> <span class="token string">"commenter"</span><span class="token punctuation">:</span> <span class="token string">"2"</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>변환하기전 데이터를 보면 <code class="language-text">comments[0].commenter</code>의 데이터를 변경하였을때, Reducer에서 변경을 인지하게 만들기가 까다로운데 비해, 변환 후 코드는 더 쉬워진다.
Entity를 이용해 API Respose의 구조를 표현하는 곳도 재미 있지만, 더욱 재미 있는건, 변환후 데이터인데 마치 DB에서 Foreign key를 사용한것 처럼, ID만 가지고 있는걸 볼 수 있다.</p>
<p>추가로 변환된 데이터들을 Immutable.js를 이용해 저장하면 <code class="language-text">Users.get(id)</code>처럼 마치 백엔드에서 ORM을 사용하는 것처럼 사용할 수 있다.</p>
<p>아직 채널팀에서는 사용하지 않고 있지만, 개인적으로 눈여겨 보고 있다.</p>
<h2>Redux-Saga</h2>
<p><a href="https://redux-saga.js.org/">Redux-Saga</a>는 인기있는 Redux Side Effect 관리 라이브러리이다.
<code class="language-text">fork</code>, <code class="language-text">task</code>, <code class="language-text">race</code>등등 쓰레드를 활용하는 것과 매우 유사한 경험을 제공해준다.
워크인사이트 팀에서 사용하였는데, 특히 소켓을 활용할때 경험이 좋았다.</p>
<p>이 외에도 <code class="language-text">Task Queue - WebWorker</code>등등 그간 백엔드에서 복잡도를 낮추기 위해 또는 관심사와 레이어를 나누기위해 사용한 여러 방법들을 React-Redux 생태계에서 활용할 수 있다.</p>
<h1>마치며</h1>
<p>현재의 프론트엔드는 점점 복잡해지고 있으며, 점점 더 많은 권한을 가지게 되고 있다.</p>
<p>프론트엔드를 단순하게만 생각하고 있거나 혹은 정반대로 복잡한 상태/작업 관리의 해결법의 모티브를 찾고 계시다면 이렇게 답하고 싶다.</p>
<blockquote>
<p>프론트엔드는 백엔드의 꿈을 꾸고 있다.</p>
</blockquote>
<h1>첨언</h1>
<p>샤딩처럼 백엔드만 가지고 있는 특성과 문제가 있는것 처럼, 프론트엔드만 가지고 있거나, 프론트엔드에서 더 문제가 되는 것들도 있다.</p>
<ul>
<li>
<p>번들파일 특히 JS 용량은 적어야 한다.</p>
<ul>
<li>JS파일은 파일을 읽은 후 파싱 -> 컴파일 -> 실행을 해야하니 용량의 증가가 더욱 치명적이다.</li>
</ul>
</li>
<li>
<p>JS의 실행속도는 빨라야한다.</p>
<ul>
<li>당연히 백엔드도 빨라야하지만, 더 좋은 서버를 이용할 수 있는 백엔드와 달리, 사용자의 기기를 업그레이드 할 수 없다.</li>
<li><em>일단은</em> 싱글쓰레드기 때문에 None-Blocking관리가 더 중요하다.</li>
<li>60fps 렌더링이 되면 더할나위 없다.</li>
</ul>
</li>
<li>보기 좋아야 한다 :)</li>
<li>
<p>클라이언트 기기가 모두 다르다</p>
<ul>
<li>아쉽게도 아직 IE를 사용하는 분들도 계시다 :(</li>
</ul>
</li>
</ul>
<p>JS의 Event Programming이 IO가 잦은 곳에 유용하다는 생각으로 <a href="https://nodejs.org">Node.js</a>가 탄생한 것 처럼,
15년 전부터 웹앱(Gmail)을 만든 구글은 반대의 사례가 있을지 궁금하다.</p>
<p>또하나,</p>
<p><a href="https://channel.io">채널</a>과 <a href="https://walkinsights.com/">워크인사이트</a> 모두 큰 규모의 웹앱을 가지고 있으며,
위와 같이 다양한 방법으로 많은 문제를 해결해가고 있고 매일 도전적인 과제를 해결하고 있다.</p>
<p>특히 채널팀에 오게된다면 쉽게 경험해볼 수 없는 많은 프론트 문제를 만나고, 해결할 수 있다!</p>
<p>프론트이외에도 <a href="https://zoyi.co/ko/jobs">여러 직군을 모집중</a>이니 많은 관심 가져주시면 감사하겠습니다 :)</p></div><div class="utterances"></div></main><footer class="Footer-module--footer--VUGIP"><div class="Footer-module--content--3u_Ao">© 2018 Han Lee. All right Reserved.</div></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-111601591-4', 'auto', {});
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-post-jsx","jsonName":"2019-do-front-ends-dream-of-back-ends-6f8","path":"/2019/do-front-ends-dream-of-back-ends/"};window.dataPath="650/path---2019-do-front-ends-dream-of-back-ends-6-f-8-e3a-9rFDskgMw3M5xcQFNlghFmbVJU";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-6f8fe7d4739b6c28c3fe.js"],"component---src-templates-post-jsx":["/component---src-templates-post-jsx.70d53bf7310d2156849c.css","/component---src-templates-post-jsx-f1d9d1b4b44e9ecfaf9d.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx.f3ebe59149e3f9ef09d2.css","/component---src-pages-index-jsx-367f17429055184b2509.js"],"pages-manifest":["/pages-manifest-759d8dd6c7ce52b00983.js"]};/*]]>*/</script><script src="/component---src-templates-post-jsx-f1d9d1b4b44e9ecfaf9d.js" async=""></script><script src="/0-2cce526182ff9e47ba62.js" async=""></script><script src="/app-6f8fe7d4739b6c28c3fe.js" async=""></script><script src="/webpack-runtime-9b046be955460e4ed382.js" async=""></script></body></html>