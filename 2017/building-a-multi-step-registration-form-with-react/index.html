<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/component---src-templates-post-jsx.ea09b38f73ff4bc2d537.css">code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.ArticleCard-module--articleCard--11z6V{display:flex;flex-wrap:nowrap;flex-direction:column;justify-content:space-between;height:24rem;padding:1rem;text-decoration:none}.ArticleCard-module--articleCard--11z6V .ArticleCard-module--title--1qLBI{font-size:1.75rem;word-break:keep-all;margin:0;line-height:1.2}.ArticleCard-module--articleCard--11z6V .ArticleCard-module--timeToRead--30lQv{text-align:right}.ArticleCard-module--articleCard--11z6V .ArticleCard-module--timeToRead--30lQv i{font-size:1rem;margin-right:.25rem;vertical-align:top}.ArticleGroup-module--articleGroup--1Rojv{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:1rem;padding-bottom:1rem}.Footer-module--footer--VUGIP{border-top:1px solid rgba(0,0,0,.14);color:#a5a5a5}.Footer-module--footer--VUGIP .Footer-module--content--3u_Ao{max-width:1200px;margin:0 auto;padding:1rem 0}.NavBar-module--navBar--34wO1{height:56px;padding:0 .5rem;position:fixed;background:#fff;width:100%;top:0;right:0}.NavBar-module--navBar--34wO1 .NavBar-module--content--1z5Z5{display:flex;width:100%;height:100%;max-width:1200px;margin:0 auto;align-items:center;justify-content:space-between}.NavBar-module--navBar--34wO1 .NavBar-module--homeLink--2g7Yn{color:#61bfad;font-size:2rem;font-weight:700;font-style:italic;text-decoration:none}.NavBar-module--navBar--34wO1 .NavBar-module--links--lZl1w a{padding:0 .5rem;color:#a5a5a5;text-decoration:none}.Page-module--page--2nMky{display:flex;flex-direction:column;width:100%;height:100%}.Page-module--page--2nMky .Page-module--content--pXhYh{flex:1 1;flex-wrap:nowrap;width:100%;max-width:1200px;padding-top:56px;margin:0 auto}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}dl,ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-spacing:0}*,:after,:before{box-sizing:border-box}code,pre{font-family:Menlo,Courier New,Monaco,Spoqa Han Sans,monospace}code.language-text{padding:.25em .5em!important;font-size:85%!important;color:#364fc7!important;background-color:#f1f3f5!important;border-radius:3px!important;text-shadow:none!important}html{font-size:18px}body{font-family:Spoqa Han Sans,Source Sans Pro,Apple SD Gothic Neo,Nanum Barun Gothic,Nanum Gothic,Verdana,Arial,Dotum,sans-serif;color:#343a40;line-height:1.6}body,html{font-family:sans-serif}body,body>div,body>div>div,html,html>div,html>div>div{width:100%;height:100%;padding:0;margin:0}h1,h2,h3,h4,h5,h6{line-height:1.7;margin:1em 0 15px;padding:0}@media screen and (max-width:640px){h1,h2,h3,h4,h5,h6{line-height:1.4}}h1,h2,h3,h5{font-weight:700}h1{font-size:30px}h1 a{color:inherit}h2{font-size:24px}h3,h4{font-size:20px}h4,h6{color:#868e96}p{color:#343a40;margin:15px 0}a{text-decoration:none;cursor:pointer}a,a:active,a:hover{color:#1b6ec2}em,i{font-style:italic}b,strong{font-weight:700}sub{vertical-align:sub}sub,sup{font-size:smaller}sup{vertical-align:super}hr{border:0;border-top:1px solid #f1f3f5;margin:1.5em auto}ol>li:before,ul>li:before{position:absolute;width:1.4em;margin-left:-1.4em;display:inline-block;box-sizing:border-box;text-align:right}ul>li:before{content:"\2022";padding-right:.3em;font-family:inherit;font-size:1.4em;line-height:1.2}ol{counter-reset:section}ol>li:before{counter-increment:section;content:counter(section) ".";padding-right:.3em;font-family:inherit;font-size:1em;line-height:inherit}ol>li,ul>li{margin:0 auto .4em 1.4em;line-height:1.55}ol>li>ol,ol>li>ul,ul>li>ol,ul>li>ul{margin-top:.4em}li>ol>li,li>ul>li{font-size:.95em;margin:0 auto .38em 1.33em}dt{float:left;width:180px;overflow:auto;clear:left;text-align:right;white-space:nowrap;font-weight:700;margin-bottom:.4em}@media screen and (max-width:640px){dt{width:120px}}dd{margin-left:200px;margin-bottom:.4em}@media screen and (max-width:640px){dd{margin-left:140px}}table{margin-bottom:1rem;width:100%;border:1px solid #e9ecef;border-collapse:collapse}td,th{padding:.25rem .5rem;border:1px solid #e9ecef}tbody tr:nth-child(odd) td,tbody tr:nth-child(odd) th{background-color:#f1f3f5}blockquote{font-weight:300;padding:0 0 0 1.4rem;margin:0 2rem 1rem 0;border-left:.2em solid #dee2e6}blockquote p{color:#868e96}blockquote p:last-child{margin-bottom:0}</style><meta name="generator" content="Gatsby 2.0.78"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-4701c1a8715a06317c7a.js"/><link as="script" rel="preload" href="/app-6f8fe7d4739b6c28c3fe.js"/><link as="script" rel="preload" href="/0-3c6168db665e3ebc88dc.js"/><link as="script" rel="preload" href="/component---src-templates-post-jsx-cbc64e6f9662e6ace08a.js"/><link as="fetch" rel="preload" href="/static/d/182/path---2017-building-a-multi-step-registration-form-with-react-479-355-iG6hwbR7RR0sCHdMNS5jM0BLlI.json" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="Page-module--page--2nMky"><nav class="NavBar-module--navBar--34wO1"><div class="NavBar-module--content--1z5Z5"><a class="NavBar-module--homeLink--2g7Yn" href="/">HAN LEE</a><section class="NavBar-module--links--lZl1w"><a href="https://hanlee.io" target="_blink">ABOUT</a><a href="/resume.pdf" target="_blink">RESUME</a><a href="https://vimrc.io" target="_blink">VIMRC.IO</a><a href="https://kodocs.io" target="_blink">KODOCS.IO</a></section></div></nav><main class="Page-module--content--pXhYh"><h1>[번역]React로 Multi-Step 가입 폼 만들기</h1><p>2017-01-20</p><div><blockquote>
<p>이 글은 <a href="https://www.viget.com">viget</a>의 <a href="https://www.viget.com/about/team/tmarshall">Tommy Marshall</a>의<a href="https://www.viget.com/articles/building-a-multi-step-registration-form-with-react">Building a Multi-Step Registration Form with React</a> 을 허락을 받고 번역한 글 입니다. 오역 및 번역 제안은 댓글로 달아 주시면 감사하겠습니다.</p>
</blockquote>
<p>저희는 Viget에서 <a href="http://facebook.github.io/react/">React</a>와 함께 일하는 것을 정말로 즐겼습니다. 저희는 React를 클라이언트 프로젝트, 개인 벤처 그리고 가장 최근에는 <a href="https://viget.com/flourish/introducing-jambells-start-a-holiday-handbell-choir-with-your-phne">Pointless Corp</a>에 사용하였습니다.</p>
<p>React의 가장 큰 특징 중 하나는 응용프로그램의 state를 처리하는 방법입니다. React 컴포넌트의 state가 업데이트 될 때마다, React는 업데이트 된 뷰를 다시 렌더링 합니다. 해석: React는 어떤 일이 일어 났을때 사용자에게 뭔가를 보여줄 필요가 있을때 아주 좋습니다.</p>
<p>저는 컴포넌트의 state를 업데이트 하여 사용자가 어떤 단계에 있는지 표시한 후, 해당 단계에 적절한 필드를 표시하는 multi-step 폼이 이 기능을 보여주는 좋은 예라고 생각 했습니다. 시작하기 전에 우리가 무엇을 만들지 알아 보겠습니다.</p>
<h3><a href="http://codepen.io/tommymarshall/pen/yyMOzj">CodePen 라이브 데모</a>와 <a href="https://github.com/tommymarshall/react-multi-step-form/">GitHub Repo</a></h3>
<p>현재 단계를 조금 더 확실하게 보여주기 위해 약간의 마크업과 CSS 및 진행바를 추가했습니다.
그외에는, 우리는 기본적으로 같은 것을 만들 겁니다.</p>
<h3>시작하기</h3>
<p>저희는 4단계 가입 과정을 만들었습니다. 사용자는 다음 과정을 거칠 것입니다:</p>
<ol>
<li>기본 계정 정보 입력</li>
<li>간단한 설문응답</li>
<li>올바른 정보를 입력했는지 확인</li>
<li>성공 메시지 보기</li>
</ol>
<p>주어진 단계에 관한 필드만 표시하는 쉬운 방법은 해당 내용을 개별 컴포넌트로 만드는 것 입니다. 그런 다음 사용자가 다음 단계로 이동하면 step state(역주-지금 어느 단계에 있는지 표시하는 state)를 1씩 증가 시킵니다. React는 step state의 변화를 보고 자동으로 컴포넌트를 재렌더링 하여 사용자가 원하는 것을 정확히 보여줍니다. 다음은 기본 코드 입니다:</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// file: Registration.jsx</span>

<span class="token keyword">var</span> React         <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> AccountFields <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./AccountFields'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> SurveyFields  <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./SurveyFields'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Confirmation  <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./Confirmation'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> Success       <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./Success'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> Registration <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	getInitialState<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			step<span class="token punctuation">:</span> <span class="token number">1</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	render<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>
				<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AccountFields</span> <span class="token punctuation">/></span></span>
			<span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>
				<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SurveyFields</span> <span class="token punctuation">/></span></span>
			<span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>
				<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Confirmation</span> <span class="token punctuation">/></span></span>
			<span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span>
				<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Success</span> <span class="token punctuation">/></span></span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> Registration</code></pre></div>
<p><em>step</em> 이 1일 경우 (컴포넌트가 처음 로드 될 때) Account 필드를 보여줄 겁니다, 2일 경우에는 설문 조사 질문을 표시하고, 3일 경우 정보를 확인 하는 화면을, 마지막으로 4단계에서 성공 메시지를 표시합니다. 저는 CommonJS 패턴을 사용하여 이러한 컴포넌트를 구성할 것입니다. 이들 각각은 React 컴포넌트가 될 것입니다.</p>
<p>다음으로, 사용자가 입력할 값을 저장할 객체를 만듭니다. 우리는 이름, 이메일, 비밀번호, 나이 및 좋아하는 색상 필드를 만들 겁니다. 여기선 이 정보를 상위 컴포넌트(Register.jsx)의 맨 위에 fieldValues로 저장하겠습니다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"> <span class="token comment">// file: Registration.jsx</span>

<span class="token keyword">var</span> fieldValues <span class="token operator">=</span> <span class="token punctuation">{</span>
  name     <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  email    <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  password <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  age      <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  colors   <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// The rest of our file</span>
<span class="token operator">...</span></code></pre></div>
<p>사용자에게 표시되는 첫번째 컴포넌트인 <code class="language-text">&lt;AccountFields /&gt;</code>에는 새 계정을 만드는데사용되는 <em>이름, 비밀번호, 이메일</em> 필드가 있습니다.
사용자가 "Save and Continue"를 클릭하면 데이터가 저장되고 회원 가입 과정의 두 번째 단계로 넘어갑니다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// file: AccountFields.jsx</span>

<span class="token keyword">var</span> React <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> AccountFields <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  render<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span><span class="token plain-text">Name</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>
             <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span>
             <span class="token attr-name">defaultValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>fieldValues<span class="token punctuation">.</span>name <span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">

      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span><span class="token plain-text">Password</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span>
             <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span>
             <span class="token attr-name">defaultValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>fieldValues<span class="token punctuation">.</span>password <span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">

      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span><span class="token plain-text">Email</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span>
             <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span>
             <span class="token attr-name">defaultValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>fieldValues<span class="token punctuation">.</span>email <span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">

      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>saveAndContinue <span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Save and Continue</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  saveAndContinue<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// this.refs를 통해 값을 받습니다.</span>
    <span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
      name     <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">getDOMNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
      password <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">.</span>password<span class="token punctuation">.</span><span class="token function">getDOMNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
      email    <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">.</span>email<span class="token punctuation">.</span><span class="token function">getDOMNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">saveValues</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">nextStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> AccountFields</code></pre></div>
<p><strong><code class="language-text">&lt;AccountFields /&gt;</code></strong> 에서 알아야 할 4가지 사항:</p>
<ol>
<li><em>defaultValue</em>는 input의 기본값을 설정합니다.
React는HTML에서 기본 input 값을 처리하는 방식의어색함을 해결하기 위해 <em>value</em> 속성 대신에 이것을 사용합니다.
이 주제에 대해 더 자세히 읽으려면 <a href="http://facebook.github.io/react/docs/forms.html#advanced-topics">여기</a>를 클릭하세요.</li>
<li>우리는<em>defaultValue</em>를 부모 컴포넌트의 등록 정보(Registration.jsx)에 전달되는<em>this.props.fieldValues</em> 키와 연관시켰습니다. 이로 인해 사용자가 저장하고다음단계로 진행하여도 이전 단계로 돌아가면 이전에 입력한 내용이 표시됩니다</li>
<li>우리는 refs를 사용해 DOM 노드를 참조하여 값을 얻고 있습니다. React에서 refs가 작동하는 방법을 보려면 <a href="http://facebook.github.io/react/docs/more-about-refs.html#the-ref-attribute">이 문서</a>를 확인 하세요. 이 방법은 노드를 참고하는 더 쉬운 방법입니다.</li>
<li>우리는 Registration 컴포넌트(부모)에 <em>saveValues</em>와 <em>nextStep</em>메소드를 만들어야 합니다. 그런 다음 이를 <strong><code class="language-text">&lt;AccountFields /&gt;</code></strong>(자식)이 접근 할 수 있게 프로퍼티(property)로 전달해야 합니다. 그리고 2단계에서 이전 단계로 갈 수 있으므로 <em>previousStep</em>도 만들어야 합니다.</li>
</ol>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// file: Registration.jsx</span>
<span class="token operator">...</span>

saveValues<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>fields<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 이 파일의 맨 위에 `fieldValues`가 있다는걸 기억하세요</span>
    <span class="token comment">// 우리는 단순히 `fieldValues`에 있는 키를 Object.assign을 사용하여`fleld`로 객체를 복사하고 있습니다</span>
    <span class="token comment">// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign 를 참고하세요</span>
    <span class="token comment">// 역주 - 한국어 자료 https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/assign</span>
    fieldValues <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> fieldValues<span class="token punctuation">,</span> fields<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

nextStep<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    step <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>step <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment">// nextStep과 같지만 숫자를 감소시킵니다</span>
previousStep<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    step <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>step <span class="token operator">-</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token operator">...</span></code></pre></div>
<p>여기에서 새로 만든 메소드를 각각의 자식 컴포넌트에 프로퍼티로 전달하여 호출 할 수 있게 합니다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// file: Registration.jsx</span>
<span class="token operator">...</span>

render<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AccountFields</span> <span class="token attr-name">fieldValues</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>fieldValues<span class="token punctuation">}</span></span>
                            <span class="token attr-name">nextStep</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>nextStep<span class="token punctuation">}</span></span>
                            <span class="token attr-name">saveValues</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>saveValues<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SurveyFields</span> <span class="token attr-name">fieldValues</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>fieldValues<span class="token punctuation">}</span></span>
                           <span class="token attr-name">nextStep</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>nextStep<span class="token punctuation">}</span></span>
                           <span class="token attr-name">previousStep</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>previousStep<span class="token punctuation">}</span></span>
                           <span class="token attr-name">saveValues</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>saveValues<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>
    <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Confirmation</span> <span class="token attr-name">fieldValues</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>fieldValues<span class="token punctuation">}</span></span>
                           <span class="token attr-name">previousStep</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>previousStep<span class="token punctuation">}</span></span>
                           <span class="token attr-name">submitRegistration</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>submitRegistration<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>
    <span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Success</span> <span class="token attr-name">fieldValues</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>fieldValues<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>여러분은 <strong><code class="language-text">&lt;AccountFields /&gt;</code></strong>는 첫번째 단계 이므로 <em>previousStep</em>로 값을 전달 하지 않고, 이전 단계로 가지 않는 다는 것을 알게 될 것입니다. 또한 <em>saveValue</em> 또는 <em>nextStep</em>을 <strong><code class="language-text">&lt;Confirmation /&gt;</code></strong>에 전달하는 대신 새로 작성한 <em>submitRegistration</em> 메소드를 전달합니다. 이 메소드는 사용자 입력값(<em>fieldValues</em>)을 제출하고 step을 4로 늘려 <strong><code class="language-text">&lt;Success /&gt;</code></strong>를 표시합니다.</p>
<p><strong><code class="language-text">&lt;SurveyFields /&gt;</code></strong>와  <strong><code class="language-text">&lt;Confirmation /&gt;</code></strong>그리고 <strong><code class="language-text">&lt;Success /&gt;</code></strong> 컴포넌트에도 <strong><code class="language-text">&lt;AccountFields /&gt;</code></strong>를 만드는 과정을 반복합니다. 간략히 하기 위해 코드는 <a href="https://github.com/tommymarshall/react-multi-step-form/blob/master/src/javascript/components/SurveyFields.jsx">여기</a>와 <a href="https://github.com/tommymarshall/react-multi-step-form/blob/master/src/javascript/components/Confirmation.jsx">여기</a> 그리고 <a href="https://github.com/tommymarshall/react-multi-step-form/blob/master/src/javascript/components/Success.jsx">여기</a>서 확인 하실 수 있습니다.</p>
<h3>데이터 저장시 주의 사항</h3>
<p>사용자의 입력을 저장하고 전달하는 방식(<em>fieldValues={fieldValues}</em>)에 주의하세요. 모든 컴포넌트에 이 방식을 매번 적용 해야 할까요? 이 데이터에 의존하는 더 많은 컴포넌트가 있거나 같은 화면에 여러 컴포넌트를 보여주어야 하는 상황을 생각해 보세요. 가장 최신 데이터를 보여줄 한가지 방법을 찾았지만 다른 방법은 없을까요? 보시다시피 위의 구현은 빠르게 지루해 지고 다루기 힘들어 집니다.</p>
<p>저희는 Facebook이 <a href="http://facebook.github.io/react/blog/2014/05/06/flux.html">플럭스 스토어(Flux Store)</a>라고 부르는 저장소에 데이터를 저장함으로써 이런 상황을 벗어날 수 있었습니다. 우리는 이 저장소를 사용함으로써 한곳에 데이터를 저장하고 데이터 변경에 반응하는 컴포넌트만 다시 렌더링 할 수 있었습니다. 플럭스의 작동 방식을 조금 더 배우고 싶다면 Pete Hunt의 <a href="https://www.youtube.com/watch?v=nYkdrAPrdcw&#x26;list=PLb0IAmt7-GS188xDYE-u1ShQmFFGbrk0v#t=621">강연</a>을 보는 것을 추천합니다.</p>
<h3>결론</h3>
<p>React는 사용자에게 무언가를 보여줄지 처리할때 매우 좋습니다. 이 예제에서 보여지는 부분은 입력 필드(간단한 마크업)이며, 해당 필드가 표시되는 때는 현재 step(Registration component의 state)에 의해 결정됩니다. 이 관계에 대해 생각하는 한가지는 state가 결정하는 모양 입니다. 응용프로그램의 상태에 따라 문자 하나 만큼의 작거나 완전히 다른 컴포넌트를 표시하는 등 다양한 방식으로 간단하고도 예측 가능한 방식으로 렌더링 할 수 있습니다.</p>
<p>React에 관한 질문이나 제가 한 작업에 대한 피드백이 있으시나요? 자유롭게 댓글로 달아주세요.</p></div></main><footer class="Footer-module--footer--VUGIP"><div class="Footer-module--content--3u_Ao">© 2018 Han Lee. All right Reserved.</div></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-111601591-4', 'auto', {});
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-post-jsx","jsonName":"2017-building-a-multi-step-registration-form-with-react-479","path":"/2017/building-a-multi-step-registration-form-with-react/"};window.dataPath="182/path---2017-building-a-multi-step-registration-form-with-react-479-355-iG6hwbR7RR0sCHdMNS5jM0BLlI";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-6f8fe7d4739b6c28c3fe.js"],"component---src-templates-post-jsx":["/component---src-templates-post-jsx.ea09b38f73ff4bc2d537.css","/component---src-templates-post-jsx-cbc64e6f9662e6ace08a.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx.e2f0bb9e6a80d7f94c5c.css","/component---src-pages-index-jsx-2ee03dd5c9559c5b3d07.js"],"pages-manifest":["/pages-manifest-71b80a4cb6c710f23b5a.js"]};/*]]>*/</script><script src="/component---src-templates-post-jsx-cbc64e6f9662e6ace08a.js" async=""></script><script src="/0-3c6168db665e3ebc88dc.js" async=""></script><script src="/app-6f8fe7d4739b6c28c3fe.js" async=""></script><script src="/webpack-runtime-4701c1a8715a06317c7a.js" async=""></script></body></html>